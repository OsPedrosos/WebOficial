<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Calendario con Eventos</title>
  <style>
    body {
      font-family: sans-serif;
      padding: 20px;
      text-align: center;
      background-color: #f9f9f9;
    }

    h1 {
      font-size: 60px;
      margin-bottom: 10px;
      color: #333;
    }

    h2 {
      margin-top: 0;
      font-size: 24px;
      color: #666;
    }

    .navegacion {
      margin: 20px;
    }

    .navegacion button {
      padding: 8px 16px;
      font-size: 16px;
      margin: 0 10px;
      cursor: pointer;
    }

    table {
      margin: auto;
      border-collapse: collapse;
      margin-top: 20px;
    }

    th, td {
      border: 1px solid #ccc;
      width: 40px;
      height: 40px;
      text-align: center;
      position: relative;
      background-color: white;
    }

    .hoy {
      background-color: #4CAF50;
      color: white;
    }

    .evento {
      background-color: #f44336;
      color: white;
      cursor: pointer;
    }

    .tooltip {
      visibility: hidden;
      background-color: #333;
      color: #fff;
      text-align: left;
      border-radius: 5px;
      padding: 6px 10px;
      position: absolute;
      z-index: 1;
      bottom: 45px;
      left: 50%;
      transform: translateX(-50%);
      white-space: nowrap;
      font-size: 12px;
      opacity: 0;
      transition: opacity 0.3s;
      pointer-events: none;
    }

    .evento:hover .tooltip {
      visibility: visible;
      opacity: 1;
    }

    #mes-anio {
      font-size: 28px;
      margin-top: 10px;
      color: #444;
    }
  </style>
</head>
<body>

  <h1>Pedrosos</h1>
  <h2>Calendario de eventos</h2>

  <div class="navegacion">
    <button onclick="cambiarMes(-1)">‚Üê Mes anterior</button>
    <span id="mes-anio"></span>
    <button onclick="cambiarMes(1)">Mes siguiente ‚Üí</button>
  </div>

  <div id="calendario"></div>

<script>
    // üéâ Eventos con datos detallados
    const eventos = {
	
	
      "2025-07-18": {
        etiqueta: "Festa de Xinzo",
        ubicacion: "Xinzo de Limia"
      },	
	
      "2025-07-19": {
        etiqueta: "Festas da Xironda",
        ubicacion: "Ao Lado da Pedrosa"
      }, 

      "2025-08-01": {
        etiqueta: "Feira do Albari√±o",
        ubicacion: "Cambados"
      },		
      "2025-08-02": {
        etiqueta: "Feira do Albari√±o",
        ubicacion: "Cambados"
      },
	 "2025-08-07": {
        etiqueta: "Grandes Festas da Pedrosa",
        ubicacion: "A Pedrosa"
      },
      "2025-08-08": {
        etiqueta: "Grandes Festas da Pedrosa",
        ubicacion: "A Pedrosa"
      },
      "2025-08-09": {
        etiqueta: "Feira do Vi√±o Monterrei",
        ubicacion: "Ver√≠n"
      }
    };

    // Variables globales para controlar mes/a√±o actual mostrado
    let mesActual, a√±oActual;

    const nombresMeses = [
      "Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio",
      "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"
    ];

    function crearCalendario(mes, a√±o) {
      mesActual = mes;
      a√±oActual = a√±o;

      document.getElementById('mes-anio').textContent = `${nombresMeses[mes]} ${a√±o}`;

      const diasMes = new Date(a√±o, mes + 1, 0).getDate();
      let primerDia = new Date(a√±o, mes, 1).getDay();
      primerDia = (primerDia === 0) ? 6 : primerDia - 1;

      const hoy = new Date();
      const esEsteMes = mes === hoy.getMonth() && a√±o === hoy.getFullYear();

      let html = '<table><tr>';
      const diasSemana = ['Lun', 'Mar', 'Mi√©', 'Jue', 'Vie', 'S√°b', 'Dom'];

      diasSemana.forEach(dia => {
        html += `<th>${dia}</th>`;
      });
      html += '</tr><tr>';

      for (let i = 0; i < primerDia; i++) {
        html += '<td></td>';
      }

      for (let dia = 1; dia <= diasMes; dia++) {
        const esHoy = esEsteMes && dia === hoy.getDate();
        const fechaStr = `${a√±o}-${String(mes + 1).padStart(2, '0')}-${String(dia).padStart(2, '0')}`;
        const tieneEvento = eventos.hasOwnProperty(fechaStr);

        let clase = '';
        let tooltip = '';

        if (esHoy) clase = 'hoy';
        else if (tieneEvento) clase = 'evento';

        if (tieneEvento) {
          const evento = eventos[fechaStr];
          tooltip = `<div class="tooltip">
                       <strong>${evento.etiqueta}</strong><br>
                       <small>${evento.ubicacion}</small>
                     </div>`;
        }

        html += `<td class="${clase}">${dia}${tooltip}</td>`;

        if ((dia + primerDia) % 7 === 0) html += '</tr><tr>';
      }

      html += '</tr></table>';
      document.getElementById('calendario').innerHTML = html;
    }

    function cambiarMes(direccion) {
      mesActual += direccion;
      if (mesActual < 0) {
        mesActual = 11;
        a√±oActual--;
      } else if (mesActual > 11) {
        mesActual = 0;
        a√±oActual++;
      }
      crearCalendario(mesActual, a√±oActual);
    }

    // Inicializar con el mes actual
    const fechaActual = new Date();
    crearCalendario(fechaActual.getMonth(), fechaActual.getFullYear());
  </script>

</body>
</html>
